{
  "result": {
    "queries": [
      {
        "cypher": "MATCH (p:Product {name: $product_name})-[:USES]->(c:Component)<-[:SUPPLIED_BY]-(s:Supplier)-[:LOCATED_IN]->(country:Country) MATCH (f:Factory)-[:LOCATED_IN]->(country) MATCH (s)-[ship:SHIPS_TO]->(f) WHERE ship.time_days <= $max_lead_time RETURN s.name AS Supplier, f.name AS Factory, ship.cost_usd AS ShippingCost ORDER BY ship.cost_usd LIMIT 50",
        "params": [
          {
            "key": "product_name",
            "value": "Control Chip"
          },
          {
            "key": "max_lead_time",
            "value": "20"
          }
        ],
        "reason": "Find suppliers for Control Chip with shipping to factories in the same country."
      },
      {
        "cypher": "MATCH (p:Product {name: $product_name})-[:USES]->(c:Component)<-[:SUPPLIED_BY]-(s:Supplier)-[:LOCATED_IN]->(country:Country) MATCH (f:Factory)-[:LOCATED_IN]->(country) MATCH (s)-[ship:SHIPS_TO]->(f) WHERE ship.time_days <= $max_lead_time RETURN COUNT(s) AS SupplierCount ORDER BY SupplierCount DESC LIMIT 1",
        "params": [
          {
            "key": "product_name",
            "value": "Control Chip"
          },
          {
            "key": "max_lead_time",
            "value": "20"
          }
        ],
        "reason": "Count suppliers to ensure there are options available."
      }
    ]
  }
}